<!DOCTYPE html>
<!--suppress JSUnusedGlobalSymbols -->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutoring Materials</title>
    <link href="./dist/style.css" rel="stylesheet" />
  </head>
  <body>
    <div id="app" class="p-2">
      <div class="flex flex-col max-w-7xl mx-auto mt-10">
        <header class="w-full">
          <h1 class="text-3xl font-bold leading-tight text-gray-900 mb-2">Editor</h1>
        </header>

        <main class="w-full flex gap-4 flex-wrap">
          <div class="h-[650px] w-[640px] mx-auto">
            <tutoring-material-editor
              v-model:content="content"
              :is-editor="true"
              :task-limit="3"
              @update:state="stateEditor = $event"
            ></tutoring-material-editor>
          </div>

          <div class="flex grow">
            <tutoring-material-statistics :events="eventsPlayer"></tutoring-material-statistics>
          </div>
        </main>
      </div>

      <div class="flex flex-row flex-wrap max-w-7xl mx-auto mt-8">
        <header class="w-full flex flex-row items-center justify-between mb-2">
          <h1 class="text-3xl font-bold leading-tight text-gray-900">Preview</h1>
        </header>

        <!-- Main Player -->
        <main class="w-full border bg-slate-50 shadow">
          <tutoring-material-preview
            :content="content"
            :state="statePlayer"
            @update:state="statePlayer = $event"
            @event="eventsPlayer = [...eventsPlayer, $event]"
            @reset="eventsPlayer = []; statePlayer = undefined"
          ></tutoring-material-preview>
        </main>
      </div>

      <!-- JSON -->
      <div class="flex flex-row flex-wrap max-w-7xl mt-8 mx-auto">
        <div class="w-1/2">
          <div class="text-xs p-4 overflow-auto">
            <pre>{{ stateEditor }}</pre>
            <pre>{{ content }}</pre>
          </div>
        </div>
        <div class="w-1/2">
          <div class="text-xs p-4 overflow-auto">
            <pre>{{ statePlayer }}</pre>
          </div>
        </div>
      </div>
    </div>

    <script type="module">
      import { createApp } from "vue/dist/vue.esm-bundler";
      import TutoringMaterials from "./src/index";

      const app = createApp({
        data() {
          return {
            content: undefined,
            stateEditor: undefined,
            statePlayer: undefined,
            eventsPlayer: [],
          };
        },
      });

      app.use(TutoringMaterials);

      app.mount("#app");
    </script>
  </body>
</html>
