import { isEmpty } from "lodash-es";
import { v4 as uuid } from "uuid";

import type { FHFormatFunction } from "@/extensions/task/find-hotspots/types";

export const formatContent: FHFormatFunction = function (data) {
  if (!data.content || isEmpty(data.content)) {
    data.content = {
      img: "data:image/png;base64,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",
      regions: [
        {
          id: uuid(),
          type: "rect",
          config: {
            x: 0,
            y: 0,
            width: 250,
            height: 175,
            rotation: 0,
          },
        },
      ],
    };
  }

  return data;
};
